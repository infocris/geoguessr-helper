<center>
  <div
    ng-repeat="iso in flags"
    ng-show="weightFlags[iso] >= weights2[3] || !weights2[3] || exactMatchFlags[iso]"
    class="flag"
    style="text-align: center;"
    ng-class="[iso, exactMatchFlags[iso] ? 'exactMatch': '']"
  >
    <span class="flag-icon" ng-class="'flag-icon-' + iso"></span><br />
    {{ iso }}
    <span ng-if="sumWeight > 0"
      ><br />{{ weightFlags[iso]/sumWeight*100|number:0 }}%</span
    >

    <div
      ng-if="!exactMatchFlags[iso] && toggledClasses.saveFiltersEnabled"
      style="position: absolute; margin-left: 20px;"
    >
      <div class="btn btn-success btn-sm" ng-click="addFilter(iso)">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
      </div>
    </div>
  </div>
  &nbsp;
  <div class="buttons filters" style="display: inline;">
    <div
      class="char level1"
      ng-if="e.selected"
      ng-repeat="e in levels1"
      ng-click="selectChar(e);"
      ng-mouseover="mouseOverChar(e);"
      ng-mouseleave="mouseLeaveChar(e);"
      ng-class="[e.selected ? 'selected': '', 'count' + e.count, 'match_ratio' + e.match_ratio, 'match' + e.match, !e.selected && e.match == flags.length ? 'full_match': '']"
    >
      {{ e.value }}
    </div>
    <div
      class="char level2"
      ng-if="e.selected"
      ng-repeat="e in levels2"
      ng-click="selectChar(e);"
      ng-mouseover="mouseOverChar(e);"
      ng-mouseleave="mouseLeaveChar(e);"
      ng-class="[e.selected ? 'selected': '', 'count' + e.count, 'match_ratio' + e.match_ratio, 'match' + e.match, !e.selected && e.match == flags.length ? 'full_match': '']"
    >
      {{ e.value }}
    </div>
    <div
      class="char level3"
      ng-if="e.selected"
      ng-repeat="e in levels3"
      ng-click="selectChar(e);"
      ng-mouseover="mouseOverChar(e);"
      ng-mouseleave="mouseLeaveChar(e);"
      ng-class="[e.selected ? 'selected': '', 'count' + e.count, 'match_ratio' + e.match_ratio, 'match' + e.match]"
    >
      {{ e.value }}
    </div>
    <ng-include
      src="'html/filter.html'"
      ng-if="e.selected"
      ng-repeat="e in languages.groups"
    ></ng-include>
    <ng-include
      src="'html/filter.html'"
      ng-repeat="e in filters"
      ng-if="e.selected"
    ></ng-include>
  </div>
  <div
    class="btn btn-lg btn-link"
    ng-click="toggledClasses.saveFiltersEnabled = !toggledClasses.saveFiltersEnabled"
    ng-show="similarityCount > 0"
  >
    <input
      class="form-check-input"
      type="checkbox"
      ng-model="toggledClasses.saveFiltersEnabled"
    />
    Add custom filters
  </div>
</center>
